---
title: "Générateurs de scénarios économiques"
author: "Mehdi KAIROUN, William LAURENT, Oskar LAVERNY, Pierre MARJOLLET"
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#I. Mise en place du framework

## Sujet et cadre d'étude

Ce projet de groupe est effectué dans le cadre du cours de *Générateurs de scénarios économiques* - **GSE** dispensé à l'ISFA. La trame que nous allons suivre est la suivante :

* Création d'un GSE "mono indice" risque neutre
* Calcul de *Best Estimate* - **BE** empirique dans le cadre d'un contrat d'épargne en *Unité de Compte* - **UC**
* Etude de la sensibilité induite par le calibrage du modèle séléctionné

## Nos outils

Pour mener à bien ce projet, nous alons exploiter le langage open-source **R** muni des librairies suivantes :

* **ESG** - librairie co-produite en 2013 par *Frédérique PLANCHET*, enseignant et chercheur de l'ISFA. Elle offre une procédure pour valoriser plusieurs produits d'assurance (type épargne, retraite, ...)
* **RMarkdown** - librairie proposé par les fondateurs de RStudio, Au vue de proposer des rendus PDF de code, elle compile le code écrits et comprends le language *LaTeX*. Le rendu de ce projet a été produit par RMarkdown.
* **magrittr** - librairie incoutournable. Elle propose de performants opérateurs très utilisés par les utilisateurs de R pour gagner en lisibilité de code

#II. Création d'un GSE mono-indice

## Courbe de taux zéro coupon

### Réglementation

### Méthodologie

### Courbe choisie

## Choix du modèle

modèle implémenté pour le taux d'intérêt : slide 31 : Hull White Vacicek généralisé... On récupère le taux d'intérêt en norminal

Ensuite, on fais BS avec taux d'intérêt stochastique

#III. Analyse et application à un contrat d'épargne en UC

## Définition du contrat

Donné par *M. PLANCHET* lors du cours de *Modèles financiers en assurance*, le contrat d'épargne en UC dont nous évaluerons le BE présente les caractéristiques suivantes:

* Sous-jacent : $(S(t), t\ge0)$
* Investissement initial $S(0)$
* Durée du contrat $T$
* Rachat en $\tau$ permis n'importe quand de fréquence constante
* Pas de prorogation $(\tau \le T)$ - *A terme, le contrat est rachêté*

On définit $\Lambda \, := \sum\limits_{t=1}^{T}\delta(t)F(t)$ avec:

* $\delta(t) \, := e^{-\int\limits_{0}^{t}r_u\,du}$ le *discount factor*, $(r_u, u\ge0)$ le taux court
* $F$ les flux représentents les engagements de l'assureur

Ainsi, on calcul le best estimate avec $BE = \mathbb{E}^{\mathbb{P}\times\mathbb{Q}}(\Lambda)$ avec:

* $\mathbb{P}$ la probabilité historique de l'assureur
* $\mathbb{Q}$ la probabilité risque neutre


En incluant dans $\tau$ l'éventuel décés car rachat par les héritiers, on a $F(t)=S(t) \mathbb{1}_{\tau=t}$. On note que dansle cas général $\mathbb{1}_{\tau=t}$ dépends des probabilités $\mathbb{Q}$ et $\mathbb{P}$.

Ainsi : $$BE = \mathbb{E}^{\mathbb{P}\times\mathbb{Q}}(\delta(t) S(t) \mathbb{1}_{\tau=t})$$


## Tests de sensibilités


```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
